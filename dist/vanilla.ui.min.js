!function(){var e={each:function(e,n){if(Array.isArray(e))e.forEach(n);else{const t=Object.keys(e);for(const o of t)n(e[o],o,e)}},extend:function(e){const n=this;n.each(e,function(e,t){void 0!==n[t]&&console.warn("Warning, the method {key} is being overwrite be another plugin",t),n[t]=e})},promisify:function(e,n){return new Promise(function(t,o){return n.apply(e,[t,o])})}};window.V=e}(),window.V.extend({$:function(e,n){return(n=n instanceof Node?n:document).querySelector(e)},$$:function(e,n){return(n=n instanceof Node?n:document).querySelectorAll(e)},items:function(e,n){var t=[];return"string"==typeof e&&(e=this.$$(e,n)),e instanceof Window&&t.push(e),e instanceof HTMLDocument&&t.push(e),e instanceof Element&&t.push(e),e instanceof NodeList&&Array.prototype.forEach.call(e,function(e){t.push(e)}),t}}),function(e){var n=function(n,t,o,r,s){var i,c=e.items(t);return void 0===s?(i=r,r=null):i=function(e){var n=e.target.closest(r);n&&s.apply(n,[e])},o=o.split(" "),c.forEach(function(e){for(var t=0;t<o.length;t++)"add"==n?e.addEventListener(o[t],i.bind(e),!1):e.removeEventListener(o[t],i.bind(e),!1)}),i};e.extend({on:function(e,t,o,r){return n("add",e,t,o,r)},off:function(e,t,o,r){return n("remove",e,t,o,r)},trigger:function(e,n){var t=this.items(e),o=document.createEvent("HTMLEvents");o.initEvent(n,!0,!0),t.forEach(function(e){e.dispatchEvent(o)})}})}(window.V),function(e){var n=function(e,n){e(this)},t={components:[],events:{},beforeRenderHooks:[],afterRenderHooks:[],beforeDestroyHooks:[],afterDestroyHooks:[]},o={element:null,selector:null,namespace:null,constructor:n,destructor:n,shouldRender:n,beforeRender:n,onRender:n,afterRender:n,beforeDestroy:n,onDestroy:n,afterDestroy:n,set:function(e,n){return this.element._components[this.namespace][e]=n,this},get:function(e,n){var t=this.element._components[this.namespace][e];return void 0===t?n:t},on:function(n,o,r){var s=this;void 0===r?(r=o,o=s.selector):o=s.selector+" "+o;var i=s.element.dataset.vid;i='[data-vid="'+i+'"]';t.events[n]||(t.events[n]={}),t.events[n][o]=e.on(document,n,o,function(e){var n=e.target.closest(i);n&&(s.element=n,r.apply(e.target,[e]))})},off:function(n,o){if(o=o?self.selector+" "+o:self.selector,t.events[n]){var r=t.events[n][o];r&&(delete t.events[n][o],e.off(document,n,o,r))}}},r=async function(n){var o=[];n.beforeRender&&o.push(e.promisify(n,n.beforeRender));var r=t.beforeRenderHooks;for(let t=0;t<r.length;t++)o.push(e.promisify(n,r[t]));return await Promise.all(o),n},s=async function(n){var o=[];n.afterRender&&o.push(e.promisify(n,n.afterRender));var r=t.afterRenderHooks;for(let t=0;t<r.length;t++)o.push(e.promisify(n,r[t]));return o.push(e.mount(n.element)),await Promise.all(o),n},i=async function(n){var o=[];n.beforeDestroy&&o.push(e.promisify(n,n.beforeDestroy));var r=t.beforeDestroyHooks;for(let t=0;t<r.length;t++)o.push(e.promisify(n,r[t]));return await Promise.all(o),n},c=async function(n){var o=[];n.afterDestroy&&o.push(e.promisify(n,n.afterDestroy));var r=t.afterDestroyHooks;for(let t=0;t<r.length;t++)o.push(e.promisify(n,r[t]));return o.push(e.unMount(n.element)),await Promise.all(o),n},a=async function(n,t){var o=[];return e.items(n.selector,t).forEach(function(t){if(void 0!==t._components){var r=n.namespace;void 0!==t._components[r]&&(n.element=t,delete t._components[r],o.push(e.unMountComponent(n)))}}),await Promise.all(o),n};e.extend({beforeRender:function(e){t.beforeRenderHooks.push(e)},afterRender:function(e){t.afterRenderHooks.push(e)},beforeDestroy:function(e){t.beforeDestroyHooks.push(e)},afterDestroy:function(e){t.afterDestroyHooks.push(e)},component:async function(n,r){var s=[],i=Object.assign({},o,r);i.selector=n,i.namespace=n.replace(/[\W_]+/g,"_"),"function"==typeof i.constructor&&s.push(e.promisify(i,i.constructor));try{await Promise.all(s),t.components.push(i)}catch(e){console.warn("Component construct error:",e)}return i},removeComponent:async function(n){var o=[],r=null,s=null;if(t.components.forEach(function(e,t){e.selector==n&&(r=e,s=t)}),!r)return n;o.push(a(r,document.body)),"function"==typeof r.destructor&&o.push(e.promisify(r,r.destructor));try{await Promise.all(o),delete t.components[s]}catch(e){console.warn("Component destruct error:",e)}return n},mount:async function(n){var o=[];return t.components.forEach(function(t){o.push(async function(n,t){var o=[];return e.items(n.selector,t).forEach(function(t){void 0===t._components&&(t._components={});var r=n.namespace;void 0===t._components[r]&&(t._components[r]={},t.dataset.vid=Math.random().toString(16).substr(2,8),n.element=t,o.push(e.mountComponent(n)))}),await Promise.all(o),n}(t,n))}),await Promise.all(o),n},unMount:async function(e){var n=[];return t.components.forEach(function(t){n.push(a(t,e))}),await Promise.all(n),e},mountComponent:async function(e){var n=this,t=function(e){return n.render(e)};if("function"==typeof e)try{let o=await new Promise(e);await t(o)}catch(e){!function(e){n.render(e)}(o)}else if("object"==typeof e)return t(e);throw"Unknown component reference"},unMountComponent:async function(e){var n=this,t=function(e){return n.destroy(e)};if("function"==typeof e)try{let o=await new Promise(e);await t(o)}catch(e){!function(e){n.destroy(e)}(o)}else if("object"==typeof e)return t(e);throw"Unknown component reference"},render:async function(n){try{var t=[e.promisify(n,n.shouldRender),r(n),e.promisify(n,n.onRender),s(n)];await Promise.all(t)}catch(e){console.warn("Component render error:",e)}return n},destroy:async function(n){try{var t=[i(n),e.promisify(n,n.onDestroy),c(n)];await Promise.all(t)}catch(e){console.warn("Component destroy error:",e)}return n}})}(window.V),function(e){var n={interceptBeforeHooks:[],interceptAfterHooks:[]};e.extend({http:{interceptBefore:function(e){n.interceptBeforeHooks.push(e)},interceptAfter:function(e){n.interceptAfterHooks.push(e)},request:async function(t,o,r,s){var i={method:t,url:o,data:r,headers:s,options:{},response:null};(i=await async function(t){var o=[],r=n.interceptBeforeHooks;for(let n=0;n<r.length;n++)o.push(e.promisify(t,r[n]));return await Promise.all(o),t}(i)).headers&&(i.options.headers=i.headers),i.method&&(i.options.method=i.method);var c=function(e){var n={};return"string"==typeof e?e.split("&").forEach(function(e){const t=e.replace(/\+/g," ").split("="),o=decodeURIComponent(t.shift()),r=t.length>0?decodeURIComponent(t.join("=")):null;void 0===n[o]&&(n[o]=r)}):"object"==typeof e&&(n=e),n}(i.data);if("GET"!=i.options.method)i.options.body=JSON.stringify(c);else{var a=Object.keys(c).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(c[e])}).join("&");a&&(i.url+="?"+a)}return new Promise(function(t,o){fetch(i.url,i.options).then(function(t){return i.response=t,async function(t){var o=[],r=n.interceptAfterHooks;for(let n=0;n<r.length;n++)o.push(e.promisify(t,r[n]));return await Promise.all(o),t}(i)}).then(function(e){return e.response}).then(function(e){if(!e.ok)throw e;return e.text().then(function(e){try{return JSON.parse(e)}catch(n){return e}})}).then(function(e){t(e)}).catch(function(e){o(e)})})},get:function(e,n,t){return this.request("GET",e,n,t)},post:function(e,n,t){return this.request("POST",e,n,t)},put:function(e,n,t){return this.request("PUT",e,n,t)},delete:function(e,n,t){return this.request("DELETE",e,n,t)}}})}(window.V);