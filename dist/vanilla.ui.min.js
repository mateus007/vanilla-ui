window.V={each:function(t,e){if(Array.isArray(t))t.forEach(e);else{const n=Object.keys(t);for(const o of n)e(t[o],o,t)}},extend:function(t,e){this.each(e,function(e,n){void 0!==t[n]&&console.warn("Warning, the method {key} is being overwrite be another plugin",n),t[n]=e})},promisify:function(t,e){return new Promise(function(n,o){try{return e.apply(t,[n,o])}catch(t){return o(t)}})},fakePromise:function(t){t(this)},promises:async function(t,e){const n=this;var o=[];for(let r=0;r<e.length;r++)"function"==typeof e[r]&&o.push(n.promisify(t,e[r]));return await Promise.all(o),t}},function(t){t.extend(t,{$:function(t,e){return(e=(e=e instanceof String?this.$(e):e)instanceof Node?e:document).querySelector(t)},$$:function(t,e){return(e=(e=e instanceof String?this.$(e):e)instanceof Node?e:document).querySelectorAll(t)},items:function(t,e){var n=[];return"string"==typeof t&&(t=this.$$(t,e)),t instanceof Window&&n.push(t),t instanceof HTMLDocument&&n.push(t),t instanceof Element&&n.push(t),t instanceof NodeList&&Array.prototype.forEach.call(t,function(t){n.push(t)}),n}})}(window.V),function(t){var e=function(e,n,o,r,i){var s,c=t.items(n);return void 0===i?(s=r,r=null):s=function(t){var e=t.target.closest(r);e&&i.apply(e,[t])},o=o.split(" "),c.forEach(function(t){for(var n=0;n<o.length;n++)"add"==e?t.addEventListener(o[n],s.bind(t),!1):t.removeEventListener(o[n],s.bind(t),!1)}),s};t.extend(t,{on:function(t,n,o,r){return e("add",t,n,o,r)},off:function(t,n,o,r){return e("remove",t,n,o,r)},trigger:function(t,e){var n=this.items(t),o=document.createEvent("HTMLEvents");o.initEvent(e,!0,!0),n.forEach(function(t){t.dispatchEvent(o)})}})}(window.V),function(t){var e={interceptBeforeHooks:[],interceptAfterHooks:[]};t.extend(t,{http:{interceptBefore:function(t){e.interceptBeforeHooks.push(t)},interceptAfter:function(t){e.interceptAfterHooks.push(t)},request:async function(n,o,r,i){var s={method:n,url:o,data:r,headers:i,options:{},response:null};(s=await t.promises(s,e.interceptBeforeHooks)).headers&&(s.options.headers=s.headers),s.method&&(s.options.method=s.method);var c=function(t){var e={};return t instanceof FormData?e=t:"object"==typeof t?e=t:"string"==typeof t&&t.split("&").forEach(function(t){const n=t.replace(/\+/g," ").split("="),o=decodeURIComponent(n.shift()),r=n.length>0?decodeURIComponent(n.join("=")):null;void 0===e[o]&&(e[o]=r)}),e}(s.data);if("GET"!=s.options.method)c instanceof FormData==0&&(c=JSON.stringify(c)),s.options.body=c;else{var u=Object.keys(c).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(c[t])}).join("&");u&&(s.url+="?"+u)}return fetch(s.url,s.options).then(function(n){return s.response=n,t.promises(s,e.interceptAfterHooks)}).then(function(t){return t.response}).then(function(t){if(!t.ok)throw t;return t.text().then(function(t){try{return JSON.parse(t)}catch(e){return t}})})},get:function(t,e,n){return this.request("GET",t,e,n)},post:function(t,e,n){return this.request("POST",t,e,n)},put:function(t,e,n){return this.request("PUT",t,e,n)},delete:function(t,e,n){return this.request("DELETE",t,e,n)}}})}(window.V),function(t){t.extend(t,{local:{set:function(t,e){return e instanceof Object&&(e=JSON.stringify(e)),localStorage.setItem(t,e)},get:function(t,e){var n=localStorage.getItem(t);return 1==e&&n&&(n=JSON.parse(n)),n}}})}(window.V),function(t){t.extend(t,{session:{set:function(t,e){return e instanceof Object&&(e=JSON.stringify(e)),sessionStorage.setItem(t,e)},get:function(t,e){var n=sessionStorage.getItem(t);return 1==e&&n&&(n=JSON.parse(n)),n}}})}(window.V);